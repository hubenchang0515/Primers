(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{279:(e,t,n)=>{"use strict";n.d(t,{default:()=>K});var i=n(5155),r=n(8407),s=n(9990),l=n(4581),a=n(3148),h=n(258),o=n(2376),d=n(1629),c=n(4220),m=n(2390),u=n(377),x=n(3127),g=n(744),p=n(6874),A=n.n(p),j=n(1960),v=n(2115);function f(e){return(0,i.jsx)(A(),{href:e.href,target:e.target,children:(0,i.jsx)(j.A,{children:e.children})})}var b=n(1640),C=n(4128),_=n(6475),k=n(8387),y=n(6858),w=n(117),T=n(6253),E=n(1834),S=n(4028);function P(e){var t,n;let[p,A]=(0,v.useState)(Array.from({length:(null==(t=e.groups)?void 0:t.length)||0},(t,n)=>n===e.current)),j=e=>{let t=[...p];t[e]=!p[e],A(t)},[P,M]=(0,v.useState)(!1),[I,O]=(0,v.useState)(!1);return(0,v.useEffect)(()=>{if(!e.expand){var t;A(Array.from({length:(null==(t=e.groups)?void 0:t.length)||0},()=>!1)),M(!1),O(!1)}},[e.expand,e.groups]),(0,i.jsx)(r.A,{sx:{borderRadius:0,zIndex:99},elevation:12,square:!0,children:(0,i.jsx)(s.A,{sx:{height:"100%"},orientation:"horizontal",collapsedSize:56,in:e.expand,onEntered:()=>O(!0),onExit:()=>O(!1),children:(0,i.jsxs)(l.A,{sx:{height:"100%",width:{xs:"100vw",sm:"320px"},display:"flex",flexDirection:"column",justifyContent:"flex-start",overflowY:"auto","&::-webkit-scrollbar":{display:"none"}},children:[(0,i.jsxs)(a.A,{sx:{width:"100%"},children:[null==(n=e.groups)?void 0:n.map((t,n)=>{var r,m;return(0,i.jsxs)(l.A,{children:[(0,i.jsx)(h.Ay,{disablePadding:!0,children:(0,i.jsxs)(o.A,{onClick:()=>{var t;j(n),null==(t=e.onExpandChanged)||t.call(e,!0)},children:[(0,i.jsx)(d.A,{children:null!=(m=t.icon)?m:(0,i.jsx)(E.A,{})}),(0,i.jsx)(c.A,{primary:t.label}),p[n]?(0,i.jsx)(_.A,{}):(0,i.jsx)(C.A,{})]})}),(0,i.jsx)(s.A,{in:e.expand&&p[n],timeout:"auto",unmountOnExit:!0,children:(0,i.jsx)(a.A,{component:"div",disablePadding:!0,children:null==(r=t.items)?void 0:r.map((e,t)=>{var n;return(0,i.jsx)(h.Ay,{disablePadding:!0,children:(0,i.jsxs)(o.A,{sx:{pl:4},component:f,href:e.url,children:[(0,i.jsx)(d.A,{children:null!=(n=e.icon)?n:(0,i.jsx)(S.A,{})}),(0,i.jsx)(c.A,{primary:e.label})]})},t)})})})]},n)}),(0,i.jsx)(m.A,{}),(0,i.jsx)(h.Ay,{disablePadding:!0,children:(0,i.jsxs)(o.A,{onClick:()=>{var t;M(!P),null==(t=e.onExpandChanged)||t.call(e,!0)},children:[(0,i.jsx)(d.A,{children:(0,i.jsx)(b.A,{})}),(0,i.jsx)(c.A,{primary:"设置"}),P?(0,i.jsx)(_.A,{}):(0,i.jsx)(C.A,{})]})}),(0,i.jsx)(s.A,{in:e.expand&&P,timeout:"auto",unmountOnExit:!0,children:(0,i.jsx)(a.A,{component:"div",disablePadding:!0,children:(0,i.jsx)(h.Ay,{disablePadding:!0,children:(0,i.jsxs)(o.A,{sx:{pl:4},onClick:()=>{var t;return null==(t=e.onToggleTheme)?void 0:t.call(e)},children:[(0,i.jsx)(d.A,{children:(0,i.jsx)(k.A,{})}),(0,i.jsx)(c.A,{primary:"主题"}),(0,i.jsx)(u.A,{title:"明亮",placement:"top",arrow:!0,children:(0,i.jsx)(x.A,{color:"light"===e.theme?"primary":"inherit",onClick:t=>{var n;null==(n=e.onToggleTheme)||n.call(e,"light"),t.stopPropagation()},children:(0,i.jsx)(w.A,{})})}),(0,i.jsx)(u.A,{title:"自动",placement:"top",arrow:!0,children:(0,i.jsx)(x.A,{color:"auto"===e.theme?"primary":"inherit",onClick:t=>{var n;null==(n=e.onToggleTheme)||n.call(e,"auto"),t.stopPropagation()},children:(0,i.jsx)(y.A,{})})}),(0,i.jsx)(u.A,{title:"黑暗",placement:"top",arrow:!0,children:(0,i.jsx)(x.A,{color:"dark"===e.theme?"primary":"inherit",onClick:t=>{var n;null==(n=e.onToggleTheme)||n.call(e,"dark"),t.stopPropagation()},children:(0,i.jsx)(T.A,{})})})]})})})})]}),e.children&&(0,i.jsx)(g.A,{in:e.expand&&I,direction:"up",mountOnEnter:!0,unmountOnExit:!0,children:(0,i.jsx)(l.A,{children:e.children})})]})})})}var M=n(1169),I=n(529),O=n(8534),z=n(700),L=n(27),D=n(5715),N=n(4389),R=n(8893);function F(e){var t;return(0,i.jsx)(l.A,{children:(0,i.jsx)(M.A,{component:"nav",color:"primary",elevation:12,position:"static",children:(0,i.jsxs)(I.A,{variant:"dense",children:[(0,i.jsx)(x.A,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2*!!e.title},onClick:e.onToggleMenu,children:(0,i.jsx)(N.A,{})}),(0,i.jsx)(O.A,{size:"large",color:"inherit","aria-label":"menu",href:"/",LinkComponent:f,sx:{textTransform:"none"},children:(0,i.jsx)(z.A,{variant:"h6",component:"div",sx:{whiteSpace:"nowrap"},children:e.title})}),(0,i.jsx)(L.A,{indicatorColor:"secondary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto",sx:{flex:1},value:e.current,children:null==(t=e.items)?void 0:t.map((e,t)=>(0,i.jsx)(D.A,{label:e.label,sx:{textTransform:"none"},LinkComponent:f,href:e.url},t))}),(0,i.jsx)(x.A,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{ml:2},href:e.github||"",target:"_blank",children:(0,i.jsx)(R.A,{})})]})})})}let H=["light","auto","dark"],J="settings";class U{store(){localStorage.setItem(J,JSON.stringify(this.m_settings))}load(){let e=localStorage.getItem(J);e&&(this.m_settings=JSON.parse(e)),this.setDefault()}reset(){var e;localStorage.removeItem(J),this.m_settings={},this.setDefault(),null==(e=this.m_changedCallback)||e.call(this,this)}setDefault(){H.includes(this.m_settings.theme)||(this.m_settings.theme="auto")}setChangedCallback(e){this.m_matchMediaChanged&&this.m_matchMedia.removeEventListener("change",this.m_matchMediaChanged),this.m_storageChanged&&window.removeEventListener("storage",this.m_storageChanged),e&&(this.m_changedCallback=e,this.m_matchMediaChanged=()=>{var e;null==(e=this.m_changedCallback)||e.call(this,this)},this.m_storageChanged=()=>{var e;this.load(),null==(e=this.m_changedCallback)||e.call(this,this)},this.m_matchMedia.addEventListener("change",this.m_matchMediaChanged),window.addEventListener("storage",this.m_storageChanged))}settings(){return this.m_settings}finalTheme(){switch(this.m_settings.theme){case"light":return"light";case"dark":return"dark";case"auto":return this.m_matchMedia.matches?"dark":"light"}}theme(){return this.m_settings.theme}setTheme(e){var t;this.m_settings.theme=e,null==(t=this.m_changedCallback)||t.call(this,this),this.store()}toggleTheme(e){if(e)this.setTheme(e);else{let e=(H.indexOf(this.m_settings.theme)+1)%H.length;this.setTheme(H[e])}}constructor(){this.m_matchMedia=window.matchMedia("(prefers-color-scheme:dark)"),this.m_settings={},this.load()}}var q=n(2851),B=n(3196),W=n(2548),Y=n(6362);function G(e){return(0,q.A)({palette:{primary:Y.A,secondary:{main:"#39c5bb"},mode:null==e?void 0:e.finalTheme()},typography:{fontFamily:"Inter, SF Pro, Segoe UI, Roboto, Oxygen, Ubuntu, Helvetica Neue, Helvetica, Arial, sans-serif;"}})}function K(e){var t;let[n,r]=(0,v.useState)(!0),[s,a]=(0,v.useState)(G()),h=(0,v.useRef)(void 0);return(0,v.useEffect)(()=>{h.current=new U,a(G(h.current)),h.current.setChangedCallback(()=>a(G(h.current))),window.innerWidth<720&&r(!1)},[]),(0,i.jsxs)(B.A,{theme:s,children:[(0,i.jsx)(W.Ay,{}),(0,i.jsxs)(l.A,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsx)(F,{title:"Primers",github:"https://github.com/hubenchang0515/primers",items:e.titleItems,current:e.currentTitle,onToggleMenu:()=>r(!n)}),(0,i.jsxs)(l.A,{sx:{display:"flex",height:"calc(100% - 48px)"},children:[(0,i.jsx)(P,{expand:n,onExpandChanged:r,theme:null==(t=h.current)?void 0:t.theme(),onToggleTheme:e=>{var t;return null==(t=h.current)?void 0:t.toggleTheme(e)},groups:e.sideItems,current:e.currentSide}),(0,i.jsx)(l.A,{sx:{flex:1,overflow:"auto"},children:e.children})]})]})]})}},3676:(e,t,n)=>{Promise.resolve().then(n.bind(n,785)),Promise.resolve().then(n.bind(n,279))}}]);