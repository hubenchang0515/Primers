{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/Link.tsx"],"sourcesContent":["\"use client\";\nimport {Link as MuiLink, LinkProps as MuiLinkProps } from '@mui/material';\nimport NextLink from \"next/link\";\nimport React, { MouseEvent } from 'react';\nimport { useGlobalState } from './GlobalState';\n\nexport default function Link(props:MuiLinkProps) {\n    const { setLoading } = useGlobalState();\n\n    if (!props.href) {\n        return <MuiLink {...props} color='textDisabled' href=\"#\">{props.children}</MuiLink>\n    }\n\n    if (props.href.startsWith(\"http\")) {\n        return <MuiLink component={NextLink} target=\"_blank\" rel=\"noopener\" {...props}>{props.children}</MuiLink>\n    }\n    \n    return (\n        <MuiLink\n            component={NextLink}\n            {...props}\n            onClick={(ev:MouseEvent<HTMLAnchorElement>)=>{setLoading?.(true); props.onClick?.(ev)}} \n            onNavigate={()=>setLoading?.(false)}\n        >\n            {props.children}\n        </MuiLink>\n    )\n}"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AAJA;;;;;AAMe,SAAS,KAAK,KAAkB;IAC3C,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;IAEpC,IAAI,CAAC,MAAM,IAAI,EAAE;QACb,qBAAO,8OAAC,2LAAA,CAAA,OAAO;YAAE,GAAG,KAAK;YAAE,OAAM;YAAe,MAAK;sBAAK,MAAM,QAAQ;;;;;;IAC5E;IAEA,IAAI,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS;QAC/B,qBAAO,8OAAC,2LAAA,CAAA,OAAO;YAAC,WAAW,4JAAA,CAAA,UAAQ;YAAE,QAAO;YAAS,KAAI;YAAY,GAAG,KAAK;sBAAG,MAAM,QAAQ;;;;;;IAClG;IAEA,qBACI,8OAAC,2LAAA,CAAA,OAAO;QACJ,WAAW,4JAAA,CAAA,UAAQ;QAClB,GAAG,KAAK;QACT,SAAS,CAAC;YAAoC,aAAa;YAAO,MAAM,OAAO,GAAG;QAAG;QACrF,YAAY,IAAI,aAAa;kBAE5B,MAAM,QAAQ;;;;;;AAG3B","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/SideMenu.tsx"],"sourcesContent":["\"use client\"\n\nimport { Box, Collapse, Divider, IconButton, List, ListItem, ListItemButton, ListItemIcon, ListItemText, Paper, Slide, Tooltip } from \"@mui/material\";\nimport { JSX, useEffect, useState } from \"react\";\nimport Link from \"./Link\";\n\nimport TuneIcon from '@mui/icons-material/Tune';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\nimport Brightness4Icon from '@mui/icons-material/Brightness4';\nimport BrightnessAutoIcon from '@mui/icons-material/BrightnessAuto';\nimport LightModeIcon from '@mui/icons-material/LightMode';\nimport DarkModeIcon from '@mui/icons-material/DarkMode';\nimport FolderIcon from '@mui/icons-material/Folder';\nimport ArticleIcon from '@mui/icons-material/Article';\nimport { useGlobalState } from \"./GlobalState\";\n\nexport interface SideMenuItem {\n    label: string;\n    icon?: JSX.Element;\n    url: string;\n}\n\nexport interface SideMenuGroup {\n    label: string;\n    icon?: JSX.Element;\n    items?: SideMenuItem[];\n}\n\nexport interface SideMenuProps {\n    lang?: string;\n    groups?: SideMenuGroup[];\n    children?: React.ReactNode;\n\n    collapsedSize?: number;\n    expanded?: boolean;\n    onExpandedChanged?: (expand:boolean) => void;\n\n    expandedGroup?: number;\n    onExpandedGroupChanged?: (index:number) => void;\n\n    selectedGroup?: number;\n    selectedItem?: number;\n\n    mode?: 'light' | 'dark' | 'system';\n    onSetMode?: (theme:'light' | 'dark' | 'system') => void;\n}\n\nexport default function SideMenu(props:SideMenuProps) {\n    const {initialized, setInitialized} = useGlobalState();\n\n    // 设置列表展开状态\n    const [settingsExpanded, setSettingsExpanded] = useState<boolean>(false);\n\n    // 底部包含的子元素\n    const [childrenVisible, setChildrenVisible] = useState(false);\n\n    useEffect(() => {\n        if (!props.expanded) {\n            setSettingsExpanded(false);\n            setChildrenVisible(false);\n        }\n    }, [props.expanded]);\n\n    return (\n        <Paper\n            sx={{\n                borderRadius: 0,\n                zIndex:99,\n                position: {xs:'absolute', md:'static'},\n                visibility: {xs: initialized ? 'visible' : 'hidden', md:'visible'},\n                top:0,\n                bottom:0,\n                left:0\n            }}\n            elevation={12}\n            square\n        >\n            <Collapse \n                sx={{height: '100%'}} \n                orientation=\"horizontal\" \n                collapsedSize={props.groups ? props.collapsedSize??56 : 0} \n                in={props.groups && props.expanded}\n                onEntered={()=>setChildrenVisible(true)}\n                onExit={()=>setChildrenVisible(false)}\n                onExited={()=>setInitialized?.(true)}\n            >\n                <Box \n                    sx={{\n                        height: '100%',\n                        width: {xs: '100vw', sm: '320px'},\n                        display:\"flex\", \n                        flexDirection:\"column\", \n                        justifyContent: \"flex-start\", \n                        overflowY:\"auto\", \n                        '&::-webkit-scrollbar': {display: \"none\"} // 隐藏滚动条\n                    }}\n                >\n                    <List sx={{width: \"100%\"}}>\n\n                        {/* 菜单选项 */}\n                        {\n                            props.groups?.map((group, gIndex) => {\n                                return (\n                                    <ListItem disablePadding key={gIndex}\n                                        sx={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            alignItems:'stretch',\n                                        }}\n                                    >\n                                        <ListItemButton \n                                            sx={{boxShadow: gIndex === props.selectedGroup ? '-2px 0 0 0 var(--mui-palette-secondary-main) inset' : ''}}\n                                            onClick={() => {\n                                                props.onExpandedGroupChanged?.(gIndex);\n                                                props.onExpandedChanged?.(true);\n                                            }}\n                                        >\n                                            <ListItemIcon>\n                                                {group.icon  ?? <FolderIcon/>}\n                                            </ListItemIcon>\n                                            <ListItemText primary={group.label}/>\n                                            {gIndex == props.expandedGroup ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n                                        </ListItemButton>\n                                        <Collapse in={props.expanded && gIndex == props.expandedGroup } timeout=\"auto\">\n                                            <List disablePadding >\n                                                {\n                                                    group.items?.map((item, dIndex) => (\n                                                        <ListItem disablePadding key={dIndex}\n                                                            sx={gIndex === props.selectedGroup && dIndex === props.selectedItem ? {boxShadow:  '-2px 0 0 0 var(--mui-palette-secondary-main) inset'} : {}}\n                                                        >\n                                                            <ListItemButton \n                                                                component={Link} \n                                                                href={item.url}\n                                                                sx={{pl:4}} \n                                                            >\n                                                                <ListItemIcon>\n                                                                    {item.icon  ?? <ArticleIcon/>}\n                                                                </ListItemIcon>\n                                                                <ListItemText primary={item.label}/>\n                                                            </ListItemButton>\n                                                        </ListItem>\n                                                    ))\n                                                }\n                                            </List>\n                                        </Collapse>\n                                    </ListItem>\n                                )\n                            })\n                        }\n\n                        <Divider/>\n\n                        {/* 设置 */}\n                        <ListItem disablePadding\n                            sx={{\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems:'stretch',\n                            }}\n                        >\n                            <ListItemButton onClick={() => {\n                                setSettingsExpanded(!settingsExpanded);\n                                props.onExpandedChanged?.(true);\n                            }}>\n                                <ListItemIcon>\n                                    <TuneIcon/>\n                                </ListItemIcon>\n                                <ListItemText primary={props.lang === 'zh' ? \"设置\" : 'Settings'}/>\n                                {settingsExpanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n                            </ListItemButton>\n                            <Collapse in={props.expanded && settingsExpanded} timeout=\"auto\" unmountOnExit>\n                                <List disablePadding>\n                                    <ListItem disablePadding>\n                                        <ListItemButton sx={{ pl: 4 }} onClick={()=>props.onSetMode?.('system')}>\n                                            <ListItemIcon>\n                                                <Brightness4Icon />\n                                            </ListItemIcon>\n                                            <ListItemText primary={props.lang === 'zh' ? \"主题\" : 'Theme'} />\n                                                <Tooltip title={props.lang === 'zh' ? \"明亮\" : 'Light'} placement=\"top\" arrow>\n                                                    <IconButton color={props.mode === 'light' ? 'primary' : 'inherit'} onClick={(ev) => {props.onSetMode?.('light'); ev.stopPropagation();}}>\n                                                        <LightModeIcon/>\n                                                    </IconButton>\n                                                </Tooltip>\n\n                                                <Tooltip title={props.lang === 'zh' ? \"系统\" : 'System'} placement=\"top\" arrow>\n                                                    <IconButton color={props.mode === 'system' ? 'primary' : 'inherit'} onClick={(ev) => {props.onSetMode?.('system'); ev.stopPropagation();}}>\n                                                        <BrightnessAutoIcon/>\n                                                    </IconButton>\n                                                </Tooltip>\n\n                                                <Tooltip title={props.lang === 'zh' ? \"黑暗\" : 'Dark'} placement=\"top\" arrow>\n                                                    <IconButton color={props.mode === 'dark' ? 'primary' : 'inherit'} onClick={(ev) => {props.onSetMode?.('dark'); ev.stopPropagation();}}>\n                                                        <DarkModeIcon/>\n                                                    </IconButton>\n                                                </Tooltip>\n                                            \n                                        </ListItemButton>\n                                    </ListItem>\n                                </List>\n                            </Collapse>\n                        </ListItem>\n                        \n                    </List>\n\n                    {\n                        props.children && \n                        <Slide in={props.expanded && childrenVisible} direction=\"up\" mountOnEnter unmountOnExit>\n                            <Box>\n                                {props.children}\n                            </Box>\n                        </Slide>\n                    }\n                </Box>\n            </Collapse>\n        </Paper>\n    )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/TitleBar.tsx"],"sourcesContent":["\"use client\"\n\nimport { AppBar, Box, Button, IconButton, Tab, Tabs, Toolbar, Typography } from \"@mui/material\";\nimport MenuIcon from '@mui/icons-material/Menu';\nimport GitHubIcon from '@mui/icons-material/GitHub';\nimport Link from \"./Link\";\n\nexport interface TitleBarItem {\n    label: string;\n    url: string;\n}\n\nexport interface TitleBarProps {\n    lang?: string;\n    title: string;\n    github: string;\n\n    items?: TitleBarItem[];\n    current?: number;\n    onCurrentChanged?: (index?:number) => void;\n\n    onToggleMenu?: () => void\n}\n\nexport default function TitleBar(props:TitleBarProps) {\n    return (\n        <Box>\n            <AppBar component=\"nav\" color=\"primary\" elevation={24} position=\"static\">\n                <Toolbar variant=\"dense\">\n                    <IconButton\n                        size=\"large\"\n                        edge=\"start\"\n                        color=\"inherit\"\n                        aria-label=\"menu\"\n                        sx={{ mr: props.title ? 2:0 }}\n                        onClick={props.onToggleMenu}\n                        disabled={props.current === undefined}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n\n                        <Button\n                            size=\"large\"\n                            color=\"inherit\"\n                            aria-label=\"menu\"\n                            href={props.lang ? `/document/${props.lang}` : '/'}\n                            LinkComponent={Link}\n                            sx={{textTransform:'none'}}\n                            onClick={()=>{props.onCurrentChanged?.(undefined)}}\n                        >\n                            <Typography variant=\"h6\" component=\"div\" sx={{ whiteSpace:\"nowrap\"}}>\n                                { props.title }\n                            </Typography>\n                        </Button>\n\n                    <Tabs \n                        indicatorColor=\"secondary\"\n                        textColor=\"inherit\"\n                        variant=\"scrollable\"\n                        scrollButtons=\"auto\"\n                        sx={{ flex:1 }}\n                        value={props.current}\n                        onChange={(_, index)=>props.onCurrentChanged?.(index)}\n                    >\n                        {\n                            props.items?.map((item, index) => {\n                                return (\n                                    <Tab key={index} label={item.label} sx={{ textTransform:'none' }} LinkComponent={Link} href={item.url} onClick={(ev)=>ev.preventDefault()}/>\n                                )\n                            })\n                        }\n                    </Tabs>\n                    \n                    <IconButton\n                        size=\"large\"\n                        edge=\"start\"\n                        color=\"inherit\"\n                        aria-label=\"menu\"\n                        sx={{ ml: 2 }}\n                        href={props.github || \"\"}\n                        target='_blank'\n                    >\n                        <GitHubIcon />\n                    </IconButton>\n                </Toolbar>\n            </AppBar>\n        </Box>\n    );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AALA;;;;;;AAwBe,SAAS,SAAS,KAAmB;IAChD,qBACI,8OAAC,wLAAA,CAAA,MAAG;kBACA,cAAA,8OAAC,iMAAA,CAAA,SAAM;YAAC,WAAU;YAAM,OAAM;YAAU,WAAW;YAAI,UAAS;sBAC5D,cAAA,8OAAC,oMAAA,CAAA,UAAO;gBAAC,SAAQ;;kCACb,8OAAC,6MAAA,CAAA,aAAU;wBACP,MAAK;wBACL,MAAK;wBACL,OAAM;wBACN,cAAW;wBACX,IAAI;4BAAE,IAAI,MAAM,KAAK,GAAG,IAAE;wBAAE;wBAC5B,SAAS,MAAM,YAAY;wBAC3B,UAAU,MAAM,OAAO,KAAK;kCAE5B,cAAA,8OAAC,yJAAA,CAAA,UAAQ;;;;;;;;;;kCAGT,8OAAC,iMAAA,CAAA,SAAM;wBACH,MAAK;wBACL,OAAM;wBACN,cAAW;wBACX,MAAM,MAAM,IAAI,GAAG,CAAC,UAAU,EAAE,MAAM,IAAI,EAAE,GAAG;wBAC/C,eAAe,0HAAA,CAAA,UAAI;wBACnB,IAAI;4BAAC,eAAc;wBAAM;wBACzB,SAAS;4BAAK,MAAM,gBAAgB,GAAG;wBAAU;kCAEjD,cAAA,8OAAC,6MAAA,CAAA,aAAU;4BAAC,SAAQ;4BAAK,WAAU;4BAAM,IAAI;gCAAE,YAAW;4BAAQ;sCAC5D,MAAM,KAAK;;;;;;;;;;;kCAIzB,8OAAC,2LAAA,CAAA,OAAI;wBACD,gBAAe;wBACf,WAAU;wBACV,SAAQ;wBACR,eAAc;wBACd,IAAI;4BAAE,MAAK;wBAAE;wBACb,OAAO,MAAM,OAAO;wBACpB,UAAU,CAAC,GAAG,QAAQ,MAAM,gBAAgB,GAAG;kCAG3C,MAAM,KAAK,EAAE,IAAI,CAAC,MAAM;4BACpB,qBACI,8OAAC,wLAAA,CAAA,MAAG;gCAAa,OAAO,KAAK,KAAK;gCAAE,IAAI;oCAAE,eAAc;gCAAO;gCAAG,eAAe,0HAAA,CAAA,UAAI;gCAAE,MAAM,KAAK,GAAG;gCAAE,SAAS,CAAC,KAAK,GAAG,cAAc;+BAA7H;;;;;wBAElB;;;;;;kCAIR,8OAAC,6MAAA,CAAA,aAAU;wBACP,MAAK;wBACL,MAAK;wBACL,OAAM;wBACN,cAAW;wBACX,IAAI;4BAAE,IAAI;wBAAE;wBACZ,MAAM,MAAM,MAAM,IAAI;wBACtB,QAAO;kCAEP,cAAA,8OAAC,2JAAA,CAAA,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;AAMnC","debugId":null}},
    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/utils/language.ts"],"sourcesContent":["export function wrapLang(lang?:string) {\n    if (lang === undefined) {\n        return \"en\";\n    }\n\n    switch (lang){\n        case 'zh': return 'zh-CN';\n    }\n\n    return lang;\n}\n\nexport function name(lang:string) {\n    switch (lang) {\n        case 'en': return \"English\";\n        case 'zh': return \"简体中文\";\n    }\n    return lang;\n}"],"names":[],"mappings":";;;;AAAO,SAAS,SAAS,IAAY;IACjC,IAAI,SAAS,WAAW;QACpB,OAAO;IACX;IAEA,OAAQ;QACJ,KAAK;YAAM,OAAO;IACtB;IAEA,OAAO;AACX;AAEO,SAAS,KAAK,IAAW;IAC5B,OAAQ;QACJ,KAAK;YAAM,OAAO;QAClB,KAAK;YAAM,OAAO;IACtB;IACA,OAAO;AACX","debugId":null}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/Discussion.tsx"],"sourcesContent":["\"use client\";\nimport { wrapLang } from '@/utils/language';\nimport Giscus from '@giscus/react';\nimport { Box, useColorScheme } from '@mui/material';\n\nexport interface DiscussionProps {\n    lang?:string;\n}\n\nexport default function Discussion(props:DiscussionProps) {\n    const {mode} = useColorScheme();\n    return (\n        <Box>\n            <Giscus\n                id=\"comments\"\n                repo=\"hubenchang0515/primers\"\n                repoId=\"R_kgDOOW5w2A\"\n                category=\"Announcements\"\n                categoryId=\"DIC_kwDOOW5w2M4Cp13Z\"\n                mapping=\"pathname\"\n                term=\"Welcome to @giscus/react component!\"\n                reactionsEnabled=\"1\"\n                emitMetadata=\"0\"\n                inputPosition=\"top\"\n                theme={mode === 'system' ? 'preferred_color_scheme' : mode}\n                lang={wrapLang(props.lang)}\n                loading=\"lazy\"\n            />\n        </Box>\n    );\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAAA;AAHA;;;;;AASe,SAAS,WAAW,KAAqB;IACpD,MAAM,EAAC,IAAI,EAAC,GAAG,CAAA,GAAA,2KAAA,CAAA,iBAAc,AAAD;IAC5B,qBACI,8OAAC,wLAAA,CAAA,MAAG;kBACA,cAAA,8OAAC,kJAAA,CAAA,UAAM;YACH,IAAG;YACH,MAAK;YACL,QAAO;YACP,UAAS;YACT,YAAW;YACX,SAAQ;YACR,MAAK;YACL,kBAAiB;YACjB,cAAa;YACb,eAAc;YACd,OAAO,SAAS,WAAW,2BAA2B;YACtD,MAAM,CAAA,GAAA,wHAAA,CAAA,WAAQ,AAAD,EAAE,MAAM,IAAI;YACzB,SAAQ;;;;;;;;;;;AAIxB","debugId":null}},
    {"offset": {"line": 758, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/utils/i18n.ts"],"sourcesContent":["import en from '@/locales/en.json';\nimport zh from '@/locales/zh.json';\n\ntype Record = {[key:string]: string|Record};\n\nexport default class I18n {\n    translations:{ [key: string]: Record };\n    lang:string;\n\n    constructor(lang?:string) {\n        this.translations = {\n            'en': en,\n            'zh': zh,\n        }\n        this.lang = (lang != undefined && lang in this.translations) ? lang : 'en';\n    }\n\n    setLanguage(lang:string) {\n        this.lang = lang in this.translations ? lang : 'en';\n    }\n\n    t(key:string) {\n        let entry:string|Record = this.translations[this.lang];\n        const params = key.split('.');\n\n        for (const param of params) {\n            if (param in (entry as Record)) {\n                entry = (entry as Record)[param]\n            } else {\n                return key;\n            }\n        }\n\n        return entry as string\n    }\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAIe,MAAM;IACjB,aAAuC;IACvC,KAAY;IAEZ,YAAY,IAAY,CAAE;QACtB,IAAI,CAAC,YAAY,GAAG;YAChB,MAAM,4FAAA,CAAA,UAAE;YACR,MAAM,4FAAA,CAAA,UAAE;QACZ;QACA,IAAI,CAAC,IAAI,GAAG,AAAC,QAAQ,aAAa,QAAQ,IAAI,CAAC,YAAY,GAAI,OAAO;IAC1E;IAEA,YAAY,IAAW,EAAE;QACrB,IAAI,CAAC,IAAI,GAAG,QAAQ,IAAI,CAAC,YAAY,GAAG,OAAO;IACnD;IAEA,EAAE,GAAU,EAAE;QACV,IAAI,QAAsB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;QACtD,MAAM,SAAS,IAAI,KAAK,CAAC;QAEzB,KAAK,MAAM,SAAS,OAAQ;YACxB,IAAI,SAAU,OAAkB;gBAC5B,QAAQ,AAAC,KAAgB,CAAC,MAAM;YACpC,OAAO;gBACH,OAAO;YACX;QACJ;QAEA,OAAO;IACX;AACJ","debugId":null}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/Footer.tsx"],"sourcesContent":["\"use client\";\nimport { Box, Button, SxProps, Theme, Typography } from \"@mui/material\";\nimport NextLink from \"next/link\";\nimport { useEffect, useState } from \"react\";\n\nimport HomeIcon from '@mui/icons-material/Home';\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\nimport EmailIcon from '@mui/icons-material/Email';\nimport PrivacyTipIcon from '@mui/icons-material/PrivacyTip';\nimport Link from \"./Link\";\nimport I18n from \"@/utils/i18n\";\n\nexport interface FooterProps {\n    email?: string;\n    owner?: string;\n    owner_url?: string;\n    sx?: SxProps<Theme>;\n    lang?: string;\n}\n\nexport default function Footer(props:FooterProps) {\n    const [date, setDate] = useState(new Date());\n    useEffect(() => {\n        setDate(new Date());\n    }, [setDate]);\n    const i18n = new I18n(props.lang);\n\n    return (\n        <Box component='footer' sx={props.sx}>\n            <Typography align=\"center\" variant=\"caption\">\n                <Typography>\n                    <Button LinkComponent={Link} href='/' startIcon={<HomeIcon/>}>{i18n.t('footer.home')}</Button>\n                    {props.email && <> <Button href={`mailto://${props.email}`} rel=\"nofollow\" startIcon={<EmailIcon/>}>{i18n.t('footer.contact')}</Button> </>}\n                    <Button LinkComponent={Link} href={`/document/${props.lang??'en'}/EX.Site.hide/EX.privacy.hide/EX.privacy.md`} startIcon={<PrivacyTipIcon/>}>{i18n.t('footer.privacy')}</Button>\n                    <Button LinkComponent={Link} href='/sitemap.xml' startIcon={<LocationOnIcon/>}>{i18n.t('footer.sitemap')}</Button>\n                </Typography>\n                <Typography>\n                    Copyright © {date.getFullYear()} {props.owner_url ? <Link component={NextLink} href={props.owner_url}>{props.owner}</Link> : props.owner} All Rights Reserved. \n                </Typography>\n                <Typography>\n                    Powered by <Link component={NextLink} href='https://github.com/hubenchang0515/primers' target=\"_blank\">primers</Link>\n                </Typography>\n            </Typography>\n        </Box>\n    )\n}"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAoBe,SAAS,OAAO,KAAiB;IAC5C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAI;IACrC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,QAAQ,IAAI;IAChB,GAAG;QAAC;KAAQ;IACZ,MAAM,OAAO,IAAI,oHAAA,CAAA,UAAI,CAAC,MAAM,IAAI;IAEhC,qBACI,8OAAC,wLAAA,CAAA,MAAG;QAAC,WAAU;QAAS,IAAI,MAAM,EAAE;kBAChC,cAAA,8OAAC,6MAAA,CAAA,aAAU;YAAC,OAAM;YAAS,SAAQ;;8BAC/B,8OAAC,6MAAA,CAAA,aAAU;;sCACP,8OAAC,iMAAA,CAAA,SAAM;4BAAC,eAAe,0HAAA,CAAA,UAAI;4BAAE,MAAK;4BAAI,yBAAW,8OAAC,yJAAA,CAAA,UAAQ;;;;;sCAAK,KAAK,CAAC,CAAC;;;;;;wBACrE,MAAM,KAAK,kBAAI;;gCAAE;8CAAC,8OAAC,iMAAA,CAAA,SAAM;oCAAC,MAAM,CAAC,SAAS,EAAE,MAAM,KAAK,EAAE;oCAAE,KAAI;oCAAW,yBAAW,8OAAC,0JAAA,CAAA,UAAS;;;;;8CAAK,KAAK,CAAC,CAAC;;;;;;gCAA2B;;;sCACvI,8OAAC,iMAAA,CAAA,SAAM;4BAAC,eAAe,0HAAA,CAAA,UAAI;4BAAE,MAAM,CAAC,UAAU,EAAE,MAAM,IAAI,IAAE,KAAK,2CAA2C,CAAC;4BAAE,yBAAW,8OAAC,+JAAA,CAAA,UAAc;;;;;sCAAK,KAAK,CAAC,CAAC;;;;;;sCACrJ,8OAAC,iMAAA,CAAA,SAAM;4BAAC,eAAe,0HAAA,CAAA,UAAI;4BAAE,MAAK;4BAAe,yBAAW,8OAAC,+JAAA,CAAA,UAAc;;;;;sCAAK,KAAK,CAAC,CAAC;;;;;;;;;;;;8BAE3F,8OAAC,6MAAA,CAAA,aAAU;;wBAAC;wBACK,KAAK,WAAW;wBAAG;wBAAE,MAAM,SAAS,iBAAG,8OAAC,0HAAA,CAAA,UAAI;4BAAC,WAAW,4JAAA,CAAA,UAAQ;4BAAE,MAAM,MAAM,SAAS;sCAAG,MAAM,KAAK;;;;;mCAAW,MAAM,KAAK;wBAAC;;;;;;;8BAE7I,8OAAC,6MAAA,CAAA,aAAU;;wBAAC;sCACG,8OAAC,0HAAA,CAAA,UAAI;4BAAC,WAAW,4JAAA,CAAA,UAAQ;4BAAE,MAAK;4BAA4C,QAAO;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAK3H","debugId":null}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/config.ts"],"sourcesContent":["// 站点信息\nexport const SITE_CONFIG = {\n    origin: 'https://xplanc.org',\n    basePath: '/primers',\n    title: 'Primers',\n    repo: 'https://github.com/hubenchang0515/primers',\n}\n\n// 站长信息\nexport const OWNER_CONFIG = {\n    name: 'Plan C',\n    url: 'https://xplanc.org/',\n    email: 'hubenchang0515@gmail.com'\n}\n\n// 文档路径\nexport const DOCUMENT_CONFIG = {\n    root: 'primers-document'\n}\n\n"],"names":[],"mappings":"AAAA,OAAO;;;;;;AACA,MAAM,cAAc;IACvB,QAAQ;IACR,UAAU;IACV,OAAO;IACP,MAAM;AACV;AAGO,MAAM,eAAe;IACxB,MAAM;IACN,KAAK;IACL,OAAO;AACX;AAGO,MAAM,kBAAkB;IAC3B,MAAM;AACV","debugId":null}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/Locale.tsx"],"sourcesContent":["\"use client\";\n\nimport { wrapLang } from \"@/utils/language\";\nimport { useEffect } from \"react\";\n\nexport interface LocaleProps {\n    lang: string\n}\n\n// 这个组件负责设置 <html> 标签的 lang 属性，无任何其它功能\nexport default function Locale(props:LocaleProps) {\n    useEffect(() => {\n        document.querySelector('html')?.setAttribute('lang', wrapLang(props.lang))\n    }, [props.lang])\n\n    return <></>\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,OAAO,KAAiB;IAC5C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,SAAS,aAAa,CAAC,SAAS,aAAa,QAAQ,CAAA,GAAA,wHAAA,CAAA,WAAQ,AAAD,EAAE,MAAM,IAAI;IAC5E,GAAG;QAAC,MAAM,IAAI;KAAC;IAEf,qBAAO;AACX","debugId":null}},
    {"offset": {"line": 1016, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/MainPage.tsx"],"sourcesContent":["\"use client\"\n\nimport SideMenu, { SideMenuGroup } from \"@/components/SideMenu\";\nimport TitleBar, { TitleBarItem } from \"@/components/TitleBar\";\nimport { Box, Container, Fade, LinearProgress } from \"@mui/material\";\nimport React, { useCallback, useEffect } from \"react\";\nimport { useColorScheme } from '@mui/material/styles';\nimport { useGlobalState } from \"./GlobalState\";\nimport { useRouter } from 'next/navigation'; \nimport Discussion from \"./Discussion\";\nimport Footer from \"./Footer\";\nimport { OWNER_CONFIG, SITE_CONFIG } from \"@/config\";\nimport Locale from \"./Locale\";\n\nexport interface MainPageProps {\n    lang?: string;\n    depth: number;\n    titleItems?: TitleBarItem[];\n    currentTitle?: number;\n\n    sideGroups?: SideMenuGroup[];\n    selectedSideGroup?: number;\n    selectedDoc?: number;\n\n    children?: React.ReactNode;\n}\n\nexport default function MainPage(props:MainPageProps) {\n    // 路由\n    const router = useRouter();\n\n    // 主题模式\n    const {mode, setMode} = useColorScheme();\n\n    // 全局状态\n    const {\n        loading,\n        currentTitle, \n        expandedSideGroup, \n        sideExpanded,\n        sideCollapsedSize,\n        setLoading,\n        setCurrentTitle,\n        setExpandedSideGroup,\n        setSideExpanded,\n    } = useGlobalState();\n\n    // 窄屏自动收起侧边栏\n    useEffect(() => {\n        if (props.depth === 3 && window.innerWidth < 900) {\n            setSideExpanded?.(false)\n        }\n    }, [props.depth, setSideExpanded]);\n\n    // 标题切换\n    const setTitle = useCallback((index?:number) => {\n        setCurrentTitle?.(index);\n        setLoading?.(true);\n        setTimeout(() => {\n            if (index !== undefined && props.titleItems !== undefined && props.titleItems.length > index) {\n                router.push(props.titleItems[index].url);\n            }\n        }, 200);\n    }, [props, router, setLoading, setCurrentTitle]);\n\n    // 初始展开选中的分组\n    useEffect(() => {\n        if (expandedSideGroup === undefined) {\n            setExpandedSideGroup?.(props.selectedSideGroup);\n        }\n    }, [expandedSideGroup, props.selectedSideGroup, setExpandedSideGroup]);\n\n    // 展开侧边栏分组\n    const toggleSideGroup = (index:number) => {\n        if (index === expandedSideGroup) {\n            setExpandedSideGroup?.(-1); // undefined 是初始状态，自动展开选中的分组，-1 是关闭状态\n        } else {\n            setExpandedSideGroup?.(index);\n        }\n    }\n\n    // 清除加载状态\n    useEffect(() => {\n        setLoading?.(false);\n    }, [setLoading]);\n\n    return (\n        <Box sx={{width: '100%', height: '100%', display: 'flex', flexDirection:'column'}}>\n            <Locale lang={props.lang??'en'}/>\n            <LinearProgress aria-label='loading' sx={{position:'fixed', top:0, width:'100%', height:2, zIndex:loading?9999:-9999}} color=\"secondary\" variant={loading?'indeterminate':'determinate'} value={100}/>\n            <TitleBar \n                lang={props.lang}\n                title={SITE_CONFIG.title}\n                github={SITE_CONFIG.repo}\n                items={props.titleItems}\n                current={currentTitle??props.currentTitle}\n                onToggleMenu={()=>setSideExpanded?.(!sideExpanded)}\n                onCurrentChanged={setTitle}\n            />\n            <Box sx={{display:'flex', height:'calc(100% - 48px)', position:'relative'}}>\n                <SideMenu\n                    lang={props.lang}\n                    collapsedSize={sideCollapsedSize}\n                    expanded={sideExpanded} \n                    onExpandedChanged={setSideExpanded} \n                    mode={mode} \n                    onSetMode={(mode)=>setMode(mode)}\n                    groups={props.sideGroups}\n                    expandedGroup={expandedSideGroup}\n                    selectedGroup={props.selectedSideGroup}\n                    selectedItem={props.selectedDoc}\n                    onExpandedGroupChanged={toggleSideGroup}\n                />\n                <Box sx={{flex:1, overflow:'auto'}}>\n                    <Container maxWidth='lg' sx={{padding:1, height:'100%'}}>\n                        <Fade in={true} appear={false}>\n                            <Box sx={{height:'100%', display:'flex', flexDirection:'column', gap:1}}>\n                                { props.children }\n                                <Discussion lang={props.lang}/>\n                                <Footer sx={{marginTop:'auto'}} owner={OWNER_CONFIG.name} owner_url={OWNER_CONFIG.url} email={OWNER_CONFIG.email} lang={props.lang}/>\n                            </Box>\n                        </Fade>\n                    </Container>\n                </Box>\n            </Box>\n        </Box>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;;;AA2Be,SAAS,SAAS,KAAmB;IAChD,KAAK;IACL,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,OAAO;IACP,MAAM,EAAC,IAAI,EAAE,OAAO,EAAC,GAAG,CAAA,GAAA,2KAAA,CAAA,iBAAc,AAAD;IAErC,OAAO;IACP,MAAM,EACF,OAAO,EACP,YAAY,EACZ,iBAAiB,EACjB,YAAY,EACZ,iBAAiB,EACjB,UAAU,EACV,eAAe,EACf,oBAAoB,EACpB,eAAe,EAClB,GAAG,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;IAEjB,YAAY;IACZ,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,MAAM,KAAK,KAAK,KAAK,OAAO,UAAU,GAAG,KAAK;YAC9C,kBAAkB;QACtB;IACJ,GAAG;QAAC,MAAM,KAAK;QAAE;KAAgB;IAEjC,OAAO;IACP,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC1B,kBAAkB;QAClB,aAAa;QACb,WAAW;YACP,IAAI,UAAU,aAAa,MAAM,UAAU,KAAK,aAAa,MAAM,UAAU,CAAC,MAAM,GAAG,OAAO;gBAC1F,OAAO,IAAI,CAAC,MAAM,UAAU,CAAC,MAAM,CAAC,GAAG;YAC3C;QACJ,GAAG;IACP,GAAG;QAAC;QAAO;QAAQ;QAAY;KAAgB;IAE/C,YAAY;IACZ,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,sBAAsB,WAAW;YACjC,uBAAuB,MAAM,iBAAiB;QAClD;IACJ,GAAG;QAAC;QAAmB,MAAM,iBAAiB;QAAE;KAAqB;IAErE,UAAU;IACV,MAAM,kBAAkB,CAAC;QACrB,IAAI,UAAU,mBAAmB;YAC7B,uBAAuB,CAAC,IAAI,qCAAqC;QACrE,OAAO;YACH,uBAAuB;QAC3B;IACJ;IAEA,SAAS;IACT,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,aAAa;IACjB,GAAG;QAAC;KAAW;IAEf,qBACI,8OAAC,wLAAA,CAAA,MAAG;QAAC,IAAI;YAAC,OAAO;YAAQ,QAAQ;YAAQ,SAAS;YAAQ,eAAc;QAAQ;;0BAC5E,8OAAC,4HAAA,CAAA,UAAM;gBAAC,MAAM,MAAM,IAAI,IAAE;;;;;;0BAC1B,8OAAC,yNAAA,CAAA,iBAAc;gBAAC,cAAW;gBAAU,IAAI;oBAAC,UAAS;oBAAS,KAAI;oBAAG,OAAM;oBAAQ,QAAO;oBAAG,QAAO,UAAQ,OAAK,CAAC;gBAAI;gBAAG,OAAM;gBAAY,SAAS,UAAQ,kBAAgB;gBAAe,OAAO;;;;;;0BAChM,8OAAC,8HAAA,CAAA,UAAQ;gBACL,MAAM,MAAM,IAAI;gBAChB,OAAO,6GAAA,CAAA,cAAW,CAAC,KAAK;gBACxB,QAAQ,6GAAA,CAAA,cAAW,CAAC,IAAI;gBACxB,OAAO,MAAM,UAAU;gBACvB,SAAS,gBAAc,MAAM,YAAY;gBACzC,cAAc,IAAI,kBAAkB,CAAC;gBACrC,kBAAkB;;;;;;0BAEtB,8OAAC,wLAAA,CAAA,MAAG;gBAAC,IAAI;oBAAC,SAAQ;oBAAQ,QAAO;oBAAqB,UAAS;gBAAU;;kCACrE,8OAAC,8HAAA,CAAA,UAAQ;wBACL,MAAM,MAAM,IAAI;wBAChB,eAAe;wBACf,UAAU;wBACV,mBAAmB;wBACnB,MAAM;wBACN,WAAW,CAAC,OAAO,QAAQ;wBAC3B,QAAQ,MAAM,UAAU;wBACxB,eAAe;wBACf,eAAe,MAAM,iBAAiB;wBACtC,cAAc,MAAM,WAAW;wBAC/B,wBAAwB;;;;;;kCAE5B,8OAAC,wLAAA,CAAA,MAAG;wBAAC,IAAI;4BAAC,MAAK;4BAAG,UAAS;wBAAM;kCAC7B,cAAA,8OAAC,0MAAA,CAAA,YAAS;4BAAC,UAAS;4BAAK,IAAI;gCAAC,SAAQ;gCAAG,QAAO;4BAAM;sCAClD,cAAA,8OAAC,2LAAA,CAAA,OAAI;gCAAC,IAAI;gCAAM,QAAQ;0CACpB,cAAA,8OAAC,wLAAA,CAAA,MAAG;oCAAC,IAAI;wCAAC,QAAO;wCAAQ,SAAQ;wCAAQ,eAAc;wCAAU,KAAI;oCAAC;;wCAChE,MAAM,QAAQ;sDAChB,8OAAC,gIAAA,CAAA,UAAU;4CAAC,MAAM,MAAM,IAAI;;;;;;sDAC5B,8OAAC,4HAAA,CAAA,UAAM;4CAAC,IAAI;gDAAC,WAAU;4CAAM;4CAAG,OAAO,6GAAA,CAAA,eAAY,CAAC,IAAI;4CAAE,WAAW,6GAAA,CAAA,eAAY,CAAC,GAAG;4CAAE,OAAO,6GAAA,CAAA,eAAY,CAAC,KAAK;4CAAE,MAAM,MAAM,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlK","debugId":null}},
    {"offset": {"line": 1262, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/EmbedPage.tsx"],"sourcesContent":["\"use client\";\nimport { Box } from \"@mui/material\";\nimport DOMPurify from \"isomorphic-dompurify\";\nimport { useCallback, useEffect, useRef } from \"react\";\nimport { useGlobalState } from \"./GlobalState\";\n\nexport interface EmbedPageProps {\n    code: string;\n    unsafe?: boolean;\n}\n\nconst ADD_TAGS = ['base', 'script', 'link', 'embed', 'frameset', 'frame'];\n\nconst ADD_ATTR = ['id', 'class', 'target', 'onclick'];\n\n// const DATA_URI_TAGS = ['a'];\n\nexport default function EmbedPage(props:EmbedPageProps) {\n    const ref = useRef<HTMLIFrameElement>(null);\n\n    const {\n        loading,\n    } = useGlobalState();\n\n    const initHeight = useCallback(() => {\n        if (ref.current?.contentWindow) {\n            ref.current.style.height = (ref.current.contentWindow.document?.documentElement?.scrollHeight??150)+ 'px';\n        }\n    }, [ref]);\n\n    useEffect(() => {\n        setTimeout(initHeight, 50);\n    }, [loading, initHeight]);\n\n    return (\n        <Box sx={{width:'100%', boxSizing:'border-box', }}>\n            <Box sx={{width:'100%', boxSizing:'border-box', lineHeight:0, border: '4px solid var(--mui-palette-primary-main)', position:'relative'}}>\n                <Box \n                    sx={{position:'absolute', boxSizing:'border-box', top:0, bottom:0, width:'100%', overflow:'auto'}} \n                    dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(props.code, {FORBID_ATTR: ['style']})}}\n                />\n                <iframe \n                    ref={ref}\n                    srcDoc={props.unsafe ? props.code : DOMPurify.sanitize(props.code, {WHOLE_DOCUMENT:true, ADD_TAGS:ADD_TAGS, ADD_ATTR:ADD_ATTR})}\n                    style={{\n                        width:'100%', \n                        height: '100%', \n                        background:'#fafafa', \n                        position:'relative', \n                        zIndex:1, \n                        minHeight:0, \n                        boxSizing:'border-box', \n                        border:0, \n                        margin:0, \n                        lineHeight:0, \n                        overflow:'hidden'\n                    }}\n                    onLoad={initHeight}\n                />\n            </Box>\n        </Box>\n    )\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAWA,MAAM,WAAW;IAAC;IAAQ;IAAU;IAAQ;IAAS;IAAY;CAAQ;AAEzE,MAAM,WAAW;IAAC;IAAM;IAAS;IAAU;CAAU;AAItC,SAAS,UAAU,KAAoB;IAClD,MAAM,MAAM,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAqB;IAEtC,MAAM,EACF,OAAO,EACV,GAAG,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;IAEjB,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC3B,IAAI,IAAI,OAAO,EAAE,eAAe;YAC5B,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,aAAa,CAAC,QAAQ,EAAE,iBAAiB,gBAAc,GAAG,IAAG;QACzG;IACJ,GAAG;QAAC;KAAI;IAER,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,WAAW,YAAY;IAC3B,GAAG;QAAC;QAAS;KAAW;IAExB,qBACI,8OAAC,wLAAA,CAAA,MAAG;QAAC,IAAI;YAAC,OAAM;YAAQ,WAAU;QAAc;kBAC5C,cAAA,8OAAC,wLAAA,CAAA,MAAG;YAAC,IAAI;gBAAC,OAAM;gBAAQ,WAAU;gBAAc,YAAW;gBAAG,QAAQ;gBAA6C,UAAS;YAAU;;8BAClI,8OAAC,wLAAA,CAAA,MAAG;oBACA,IAAI;wBAAC,UAAS;wBAAY,WAAU;wBAAc,KAAI;wBAAG,QAAO;wBAAG,OAAM;wBAAQ,UAAS;oBAAM;oBAChG,yBAAyB;wBAAC,QAAQ,gJAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAE;4BAAC,aAAa;gCAAC;6BAAQ;wBAAA;oBAAE;;;;;;8BAE9F,8OAAC;oBACG,KAAK;oBACL,QAAQ,MAAM,MAAM,GAAG,MAAM,IAAI,GAAG,gJAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAE;wBAAC,gBAAe;wBAAM,UAAS;wBAAU,UAAS;oBAAQ;oBAC7H,OAAO;wBACH,OAAM;wBACN,QAAQ;wBACR,YAAW;wBACX,UAAS;wBACT,QAAO;wBACP,WAAU;wBACV,WAAU;wBACV,QAAO;wBACP,QAAO;wBACP,YAAW;wBACX,UAAS;oBACb;oBACA,QAAQ;;;;;;;;;;;;;;;;;AAK5B","debugId":null}},
    {"offset": {"line": 1385, "column": 0}, "map": {"version":3,"sources":["file:///home/planc/Projects/primers/src/components/Shift.tsx"],"sourcesContent":["\"use client\";\nimport { Box, Button, Collapse, Typography } from \"@mui/material\";\nimport { useState } from \"react\";\nimport TerminalIcon from '@mui/icons-material/Terminal';\nimport I18n from \"@/utils/i18n\";\nimport Link from \"./Link\";\n\nexport interface ShiftProps {\n    lang?: string;\n    language: string;\n    code: string;\n    highlight: string;\n    input?: string;\n}\n\nexport default function Shift(props:ShiftProps) {\n    const i18n = new I18n(props.lang);\n    const [run, setRun] = useState(false);\n    const shiftUrl = `https://xplanc.org/shift/?lang=${props.language}&input=${btoa(encodeURIComponent(props.input??''))}&code=${btoa(encodeURIComponent(props.code.trim()))}`\n\n    return (\n        <Box className=\"shift\" sx={{transition:'all 300ms ease'}}>\n            {   run?\n                <Box sx={{marginBlock:'8px', position:'relative'}}>\n                    <code className={`language-${props.language} hljs`} style={{minHeight:300, margin: 0, overflow:'auto'}} dangerouslySetInnerHTML={{__html: props.highlight}}></code>\n                    <Box sx={{height:290, background:'black', color:'white'}}>\n                        <Collapse in>\n                            <Typography>Loading <Link href={shiftUrl} color=\"info\">Shift</Link> ...</Typography>\n                            <Typography>Loading {props.language}.wasm ...</Typography>\n                            <Typography>Loading {props.language}.data ...</Typography>\n                            <Typography>Executing ...</Typography>\n                        </Collapse>\n                    </Box>\n                    <iframe \n                        title={`Shift WASM runtime environment for ${props.language}`} \n                        style={{\n                            width:'100%', \n                            height:'100%', \n                            position:'absolute', \n                            top:0, \n                            border:0, \n                            background:'transparent'\n                        }} \n                        src={shiftUrl}\n                    ></iframe>\n                </Box>\n                :\n                <Box sx={{marginBlock:'8px'}}>\n                    <code className={`language-${props.language} hljs`} style={{minHeight:300, margin: 0, overflow:'auto'}} dangerouslySetInnerHTML={{__html: props.highlight}}></code>\n                    <Box sx={{height:290, background:'black', color:'white', display:'flex', flexDirection:'column', justifyContent:'center', alignItems:'center'}}>\n                        <Button variant=\"contained\" size=\"large\" color=\"secondary\" sx={{margin:1}} startIcon={<TerminalIcon/>} onClick={()=>{setRun(true)}}>{i18n.t(\"shift.run\")}</Button>\n                        <Box>\n                            <Typography>&gt;&gt;&gt; Establishing WebAssembly Runtime. </Typography>\n                            <Typography>&gt;&gt;&gt; Standby. </Typography>\n                            <Typography>Powered by <Link href={shiftUrl} color=\"info\" rel=\"nofollow\">Shift</Link>.</Typography>\n                        </Box>\n                    </Box>\n                </Box>\n            }\n        </Box>\n    )\n}"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAee,SAAS,MAAM,KAAgB;IAC1C,MAAM,OAAO,IAAI,oHAAA,CAAA,UAAI,CAAC,MAAM,IAAI;IAChC,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/B,MAAM,WAAW,CAAC,+BAA+B,EAAE,MAAM,QAAQ,CAAC,OAAO,EAAE,KAAK,mBAAmB,MAAM,KAAK,IAAE,KAAK,MAAM,EAAE,KAAK,mBAAmB,MAAM,IAAI,CAAC,IAAI,MAAM;IAE1K,qBACI,8OAAC,wLAAA,CAAA,MAAG;QAAC,WAAU;QAAQ,IAAI;YAAC,YAAW;QAAgB;kBAC/C,oBACA,8OAAC,wLAAA,CAAA,MAAG;YAAC,IAAI;gBAAC,aAAY;gBAAO,UAAS;YAAU;;8BAC5C,8OAAC;oBAAK,WAAW,CAAC,SAAS,EAAE,MAAM,QAAQ,CAAC,KAAK,CAAC;oBAAE,OAAO;wBAAC,WAAU;wBAAK,QAAQ;wBAAG,UAAS;oBAAM;oBAAG,yBAAyB;wBAAC,QAAQ,MAAM,SAAS;oBAAA;;;;;;8BACzJ,8OAAC,wLAAA,CAAA,MAAG;oBAAC,IAAI;wBAAC,QAAO;wBAAK,YAAW;wBAAS,OAAM;oBAAO;8BACnD,cAAA,8OAAC,uMAAA,CAAA,WAAQ;wBAAC,EAAE;;0CACR,8OAAC,6MAAA,CAAA,aAAU;;oCAAC;kDAAQ,8OAAC,0HAAA,CAAA,UAAI;wCAAC,MAAM;wCAAU,OAAM;kDAAO;;;;;;oCAAY;;;;;;;0CACnE,8OAAC,6MAAA,CAAA,aAAU;;oCAAC;oCAAS,MAAM,QAAQ;oCAAC;;;;;;;0CACpC,8OAAC,6MAAA,CAAA,aAAU;;oCAAC;oCAAS,MAAM,QAAQ;oCAAC;;;;;;;0CACpC,8OAAC,6MAAA,CAAA,aAAU;0CAAC;;;;;;;;;;;;;;;;;8BAGpB,8OAAC;oBACG,OAAO,CAAC,mCAAmC,EAAE,MAAM,QAAQ,EAAE;oBAC7D,OAAO;wBACH,OAAM;wBACN,QAAO;wBACP,UAAS;wBACT,KAAI;wBACJ,QAAO;wBACP,YAAW;oBACf;oBACA,KAAK;;;;;;;;;;;iCAIb,8OAAC,wLAAA,CAAA,MAAG;YAAC,IAAI;gBAAC,aAAY;YAAK;;8BACvB,8OAAC;oBAAK,WAAW,CAAC,SAAS,EAAE,MAAM,QAAQ,CAAC,KAAK,CAAC;oBAAE,OAAO;wBAAC,WAAU;wBAAK,QAAQ;wBAAG,UAAS;oBAAM;oBAAG,yBAAyB;wBAAC,QAAQ,MAAM,SAAS;oBAAA;;;;;;8BACzJ,8OAAC,wLAAA,CAAA,MAAG;oBAAC,IAAI;wBAAC,QAAO;wBAAK,YAAW;wBAAS,OAAM;wBAAS,SAAQ;wBAAQ,eAAc;wBAAU,gBAAe;wBAAU,YAAW;oBAAQ;;sCACzI,8OAAC,iMAAA,CAAA,SAAM;4BAAC,SAAQ;4BAAY,MAAK;4BAAQ,OAAM;4BAAY,IAAI;gCAAC,QAAO;4BAAC;4BAAG,yBAAW,8OAAC,6JAAA,CAAA,UAAY;;;;;4BAAI,SAAS;gCAAK,OAAO;4BAAK;sCAAI,KAAK,CAAC,CAAC;;;;;;sCAC5I,8OAAC,wLAAA,CAAA,MAAG;;8CACA,8OAAC,6MAAA,CAAA,aAAU;8CAAC;;;;;;8CACZ,8OAAC,6MAAA,CAAA,aAAU;8CAAC;;;;;;8CACZ,8OAAC,6MAAA,CAAA,aAAU;;wCAAC;sDAAW,8OAAC,0HAAA,CAAA,UAAI;4CAAC,MAAM;4CAAU,OAAM;4CAAO,KAAI;sDAAW;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjH","debugId":null}}]
}